<!DOCTYPE html> 
<html> <head> <meta charset="utf-8"> <title>Happy Birthday </title> </head> <body> <div id="hb_text" style="font-size:60px" > </div> </body> 




<audio id="hb_music" controls="controls" autoplay="autoplay" preload id="hb_music" hidden="true">
<source src="dida.mp3" />
</audio>

<img id="btn" class="active" src="" alt="" />



<script>
  let audio = document.getElementById('hb_music');
  let divTyping = document.getElementById('hb_text')
  let i = 0,
    timer = 0,
    str = '生日快乐!'

  function typing () {
    if (i <= str.length) {
      divTyping.innerHTML = str.slice(0, i++) + '_'
      timer = setTimeout('typing()', 200)
    }
    else {
      divTyping.innerHTML = str
      clearTimeout(timer)
	  if(audio != null){
		if(!audio.paused){
			audio.pause();
		}
	  }
    }
  }

  typing()
</script> 


<script>
var audio = document.getElementById('hb_music');
$("#btn").bind("touchstart", function bf() {
if(audio !== null) {


if(audio.paused) {
audio.play(); 
$("#btn").addClass("active")
} else {
audio.pause(); 
$("#btn").removeClass("active")
}
}
})
</script>


</html>